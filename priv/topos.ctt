module topos where
import cat
import cones

subobjectClassifier (C: precategory): U
  = (omega: carrier C)
  * (xi: (V X: carrier C) (j: hom C V X) -> hom C X omega)
  * (end: terminal C)
  * (topOmega: hom C end.1 omega)
  * (square: (V X: carrier C) (j: hom C V X) -> mono C V X j
         -> hasPullback C (omega,(end.1,topOmega),(X,xi V X j)))
  * ((V X: carrier C) (j: hom C V X) (k: hom C X omega)
         -> mono C V X j
         -> hasPullback C (omega,(end.1,topOmega),(X,k))
         -> Path (hom C X omega) (xi V X j) k)

Topos (cat: precategory): U
  = (rezk: isCategory cat)
  * (cartesianClosed: isCCC cat)
  * subobjectClassifier cat

